<div style="margin: 10px;" class="p-grid">
    <div class="p-col-12">
        <button
            type="button"
            pButton
            label="Refresh App"
            icon="pi pi-refresh"
            (click)="refreshAppState()"
            style="float: right;"
        ></button>
        <h3>Kea App {{ appTab.app.id }}.</h3>
        Machine:
        <a routerLink="/machines/{{ appTab.app.machine.id }}">{{ appTab.app.machine.address }}</a>
    </div>

    <div class="p-col-12">
        <p-tabMenu [model]="tabs" [activeItem]="activeTab">
            <ng-template pTemplate="item" let-item let-i="index">
                <div style="display: flex;">
                    <div class="ui-menuitem-text">
                        <b>{{ item.label }}</b>
                    </div>
                    <div
                        *ngIf="daemons[i].active"
                        class="ui-menuitem-icon pi pi-check"
                        style="font-size: 1.6em; color: #00df00;"
                    ></div>
                    <div
                        *ngIf="!daemons[i].active"
                        class="ui-menuitem-icon pi pi-exclamation-circle"
                        style="font-size: 1.6em; color: #f33;"
                    ></div>
                </div>
            </ng-template>
        </p-tabMenu>
    </div>

    <div class="p-col-12">
        <h4>Overview</h4>
        <div class="p-col-4">
            <table style="width: 100%;">
                <tr>
                    <td>Version</td>
                    <td>{{ daemon.version }}</td>
                </tr>
                <tr>
                    <td style="vertical-align: top;">Version Ext</td>
                    <td [innerHTML]="daemon.extendedVersion"></td>
                </tr>
                <tr>
                    <td style="vertical-align: top;">Hooks</td>
                    <td>
                        <div *ngFor="let hook of daemon.hooks">
                            {{ hook }}
                        </div>
                        <div *ngIf="daemon.hooks.length === 0" style="color: #aaa">
                            no hooks
                        </div>
                    </td>
                </tr>
            </table>
        </div>
    </div>

    <div *ngIf="daemon.name === 'dhcp4' || daemon.name === 'dhcp6'" class="p-col-12">
        <app-ha-status [appId]="appTab.app.id" [daemonName]="daemon.name"></app-ha-status>
    </div>
</div>
